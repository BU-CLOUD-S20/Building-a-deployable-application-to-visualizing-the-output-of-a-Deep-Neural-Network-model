<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <title>EC528 Testing Site 2</title>
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <link href="style.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
      <a class="navbar-brand" href="#">Microsoft CVBP</a>
    </nav>
    <main role="main">
      <!-- Main jumbotron for a primary marketing message or call to action -->
      <div class="jumbotron">
        <div class="container">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
              <li class="nav-item">
                <a class="nav-link active" id="files-tab" data-toggle="tab" href="#files" role="tab" aria-controls="files" aria-selected="false">Files</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="webcam-tab" data-toggle="tab" href="#webcam" role="tab" aria-controls="webcam" aria-selected="false">Webcam</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="samples-tab" data-toggle="tab" href="#samples" role="tab" aria-controls="samples" aria-selected="false">Samples</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="examples-tab" data-toggle="tab" href="#examples" role="tab" aria-controls="examples" aria-selected="false">Examples</a>
              </li>
            </ul>
            <div class="tab-content card" style="border-top-left-radius: 0rem !important; border-top-right-radius: .25rem; border-top: 0px !important;" id="myTabContent">
                <div class="tab-pane fade card-body mt-4" id="similarity" role="tabpanel" aria-labelledby="similarity-tab">
                    <!-- <p id="queryImg"></p> -->
                    <img id="queryImg">
                    <table class="table" id="distTable">
                        <thead>
                            <tr>
                                <th scope="col">Image</th>
                                <th scope="col">File Name</th>
                                <th scope="col">Distance</th>
                            </tr>
                        </thead>
                    <tbody></tbody></table>
                </div>
                <div class="tab-pane fade show active card-body mt-4" id="files" role="tabpanel" aria-labelledby="files-tab">
                  <p>Select up to 4 local images to use:</p>
                  <div class="custom-file">
                    <!-- <input type="file" multiple class="custom-file-input mx-auto d-block"  accept="image/*" id="inputGroupFile03" onchange="handleFiles(this.files)"> -->
                   
                    <!-- <label class="custom-file-label mt-2 ml-3 mr-3" for="inputGroupFile03" id="labelinput" >Choose file</label> -->
                    <label class="btn btn-secondary">
                        Choose Files <input type="file" multiple class="custom-file-input mx-auto"  accept="image/*" id="inputGroupFile03" onchange="handleFiles(this.files)" hidden>
                    </label>
                  </div>
                </div>                

                <div class="tab-pane fade card-body mt-4" id="webcam" role="tabpanel" aria-labelledby="webcam-tab">
                    <p>Use your webcam to take an input picture</p>
                    <div class="row">
              <div class="col-sm-6">
                <div class="card">
                  <div class="card-header text-muted">
                    <button id="snap" class="float-right">Snap Photo</button>
                  <!-- <i class="fas fa-video text-danger"></i> --> <div class="icon baseline"><i data-feather="video" class="text-danger"></i></div> LIVE Webcam
                </div>
                  <div class="card-body">
                    <div class="embed-responsive embed-responsive-4by3">
                  <video id="video" class="embed-responsive-item" autoplay></video>
                </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="card">
                  <div class="card-header text-muted">
                    <button id="useImage" class="float-right">Use Image</button>
                  <div class="icon baseline"><i data-feather="camera" class="text-black-50"></i></div> Captured Image
                </div>
                  <div class="card-body">
                    <canvas id="webCamCanvas" width="30" height="30"></canvas>
                  </div>
                </div>
              </div>
            </div>
            </div>
              <div class="tab-pane fade card-body mt-4" id="samples" role="tabpanel" aria-labelledby="samples-tab">
                <p>Select sample images</p>
                <img id="sample0" class="mr-2 mb-2 sImg" src="small-150/can_1.jpg">
                <img id="sample1" class="mr-2 mb-2 sImg" src="small-150/can_21.jpg">
                <img id="sample2" class="mr-2 mb-2 sImg" src="https://via.placeholder.com/100">
                <img id="sample3" class="mr-2 mb-2 sImg" src="https://via.placeholder.com/100">
                <img id="sample4" class="mr-2 mb-2 sImg" src="https://via.placeholder.com/100">
                <img id="sample5" class="mr-2 mb-2 sImg" src="https://via.placeholder.com/100">
                <img id="sample6" class="mr-2 mb-2 sImg" src="https://via.placeholder.com/100">
                <img id="sample7" class="mr-2 mb-2 sImg" src="https://via.placeholder.com/100">
                <img id="sample8" class="mr-2 mb-2 sImg" src="https://via.placeholder.com/100">
                <img id="sample9" class="mr-2 mb-2 sImg" src="https://via.placeholder.com/100">

              </div>
              <div class="tab-pane fade card-body mt-4" id="examples" role="tabpanel" aria-labelledby="examples-tab">
                <p>Click an image to see model examples</p>
                <img id="example0" data-eid="0" class="mr-2 mb-2 eImg" src="img/can_8.jpg">
                <img id="example1" data-eid="1" class="mr-2 mb-2 eImg" src="img/can_31.jpg">
                <img id="example2" data-eid="2" class="mr-2 mb-2 eImg" src="img/carton_47.jpg">
                <img id="example3" data-eid="3" class="mr-2 mb-2 eImg" src="img/carton_59.jpg">
                <img id="example4" data-eid="4" class="mr-2 mb-2 eImg" src="img/milk_bottle_76.jpg">
                <img id="example5" data-eid="5" class="mr-2 mb-2 eImg" src="img/milk_bottle_97.jpg">
                <img id="example6" data-eid="6" class="mr-2 mb-2 eImg" src="img/water_bottle_105.jpg">
                <img id="example7" data-eid="7" class="mr-2 mb-2 eImg" src="img/water_bottle_124.jpg">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="icCheck" onclick='exampleModels()' checked>
                  <label class="form-check-label" for="icCheck">
                    Image Classification
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="odCheck" onclick='exampleModels()' checked>
                  <label class="form-check-label" for="odCheck">
                    Object Detection
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="isCheck" onclick='exampleModels()' checked>
                  <label class="form-check-label" for="isCheck">
                    Image Similarity
                  </label>
                </div>
              </div>
            </div>
          <div id="thumbnails">
            <p class="mt-3 text-muted">Thumbnails:</p>
            <div class="img-wrap img-wrap-ph mr-4 mb-4" id="b64imgwrap-0">
              <button id="clear-0" type="button" class="clearBtn btn btn-danger btn-sm hide text-white" onclick="removeImg(0)"> <div class="icon regular"><i data-feather="x" class="text-white"></i></div></button>
              <img id="b64img-0" src="">
            </div>
            <div class="img-wrap img-wrap-ph mr-4 mb-4" id="b64imgwrap-1">
              <button id="clear-1" type="button" class="clearBtn btn btn-danger btn-sm hide text-white" onclick="removeImg(1)"> <div class="icon regular"><i data-feather="x" class="text-white"></i></div></button>
              <img id="b64img-1" src="">
            </div>
            <div class="img-wrap img-wrap-ph mr-4 mb-4" id="b64imgwrap-2">
              <button id="clear-2" type="button" class="clearBtn btn btn-danger btn-sm hide text-white" onclick="removeImg(2)"> <div class="icon regular"><i data-feather="x" class="text-white"></i></div></button>
              <img id="b64img-2" src="">
            </div>
            <div class="img-wrap img-wrap-ph mr-4 mb-4" id="b64imgwrap-3">
              <button id="clear-3" type="button" class="clearBtn btn btn-danger btn-sm hide text-white" onclick="removeImg(3)"> <div class="icon regular"><i data-feather="x" class="text-white"></i></div></button>
              <img id="b64img-3" src="">
            </div>
            <p style="clear:left;" class="pt-3 text-muted" id="progress"></p>
          </div>
        </div>
      </div>

      <div class="container">
      <!-- Example row of columns -->
        <div class="row">
          <div class="col-md-6" id="resultsDiv0">
            <h2>Results for Image 0</h2>
            <div id="resultsDiv0-content">
              <img id="resultsImg0">
              <canvas id="resultsCanvas0" width="30" height="30"></canvas>
            </div>
          </div>
          <div class="col-md-6" id="resultsDiv1">
            <h2>Results for Image 1</h2>
            <div id="resultsDiv1-content">
              <img id="resultsImg1">
              <canvas id="resultsCanvas1" width="30" height="30"></canvas>
            </div>
          </div>
          <div class="col-md-6" id="resultsDiv2">
            <h2>Results for Image 2</h2>
            <div id="resultsDiv2-content">
              <img id="resultsImg2">
              <canvas id="resultsCanvas2" width="30" height="30"></canvas>
            </div>
          </div>
          <div class="col-md-6" id="resultsDiv3">
            <h2>Results for Image 3</h2>
            <div id="resultsDiv3-content">
              <img id="resultsImg3">
              <canvas id="resultsCanvas3" width="30" height="30"></canvas>
            </div>
          </div>
          <div class="col-md-6 hide" id="resultsDiv7">
            <h5>Example Results for Image Classification Model</h5>
            <div id="resultsDiv7-content">
              <img id="resultsImg7">
              <canvas id="resultsCanvas7" width="30" height="30"></canvas>
            </div>
          </div>
          <div class="col-md-6 hide" id="resultsDiv8">
            <h5>Example Results for Object Detection Model</h5>
            <div id="resultsDiv8-content">
              <img id="resultsImg8">
              <canvas id="resultsCanvas8" width="30" height="30"></canvas>
            </div>
          </div>
          <div class="col-md-6 hide" id="resultsDiv9">
            <h5>Example Results for Image Similarity Model</h5>
            <div id="resultsDiv9-content">
              <img id="resultsImg9">
              <canvas id="resultsCanvas9" width="30" height="30"></canvas>
            </div>
          </div>
        </div>
        <hr>
      </div> <!-- /container -->

    </main>
    <footer class="container">
      <p>EC528 Example</p>
    </footer>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script type="text/javascript" src="dist/jszip.min.js"></script>
    <script type="text/javascript" src="dist/jszip-utils.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>